(function(){"use strict";var t={651:function(t,e,s){var r=s(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-1"},[e("button",{staticClass:"btn btn-primary",on:{click:t.createNewRequest}},[t._v("Create new Request")]),t.requestsList.length?e("TableComponent",{attrs:{requests:t.requestsData},on:{onEdit:t.requestStartEdit,onDelete:t.requestDelete}}):e("p",{staticClass:"text-center"},[t._v("No requests now. "),e("span",{attrs:{role:"button"},on:{click:t.createNewRequest}},[t._v("Create new Requst")])]),t.formOpen?e("ModalComponent",{attrs:{active:t.formOpen},on:{closeModal:t.formClose},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"form_wrapper"},[e("FormComponent",{attrs:{requestData:t.currentRequest},on:{onClose:t.formClose,onCreate:t.requestCreate,onSave:t.requestSave}})],1)]},proxy:!0}],null,!1,3476175301)}):t._e(),t.confirmDelModal?e("ModalComponent",{on:{closeModal:function(e){t.confirmDelModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[e("h3",{staticClass:"text-center"},[t._v("Confirm to delete this request")]),e("div",{staticClass:"d-flex justify-content-around"},[e("button",{staticClass:"btn btn-primary mx-1",on:{click:t.confirmDelete}},[t._v("Delete")]),e("button",{staticClass:"btn btn-primary mx-1",on:{click:function(e){t.confirmDelModal=!1}}},[t._v("Cancel")])])])]},proxy:!0}],null,!1,1778745386)}):t._e()],1)},a=[],o=s(3822),n=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form",on:{submit:function(e){return t.preventDefault()}}},[e("div",{staticClass:"mb-4"},[t.requestData.id?e("h2",{staticClass:"text-center"},[t._v("Edit request")]):e("h2",{staticClass:"text-center"},[t._v("Create new request")])]),e("div",{staticClass:"mb-4 position-relative"},[e("label",{staticClass:"form-label",attrs:{for:"city-to"}},[t._v("Delivery to*")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cityTo,expression:"cityTo"}],class:"form-control "+(t.$v.cityTo.$dirty&&!t.$v.cityTo.required||t.$v.cityTo.$dirty&&!t.$v.cityTo.minLength?"is-invalid":""),attrs:{type:"text",id:"city-to",placeholder:"Enter destenation city name.","aria-describedby":"city name"},domProps:{value:t.cityTo},on:{input:function(e){e.target.composing||(t.cityTo=e.target.value)}}}),t.$v.cityTo.$dirty&&!t.$v.cityTo.required?e("small",{staticClass:"invalid-feedback position-absolute"},[t._v("Enter destenation city name.")]):t._e(),t.$v.cityTo.$dirty&&!t.$v.cityTo.minLength?e("small",{staticClass:"invalid-feedback position-absolute"},[t._v(" "+t._s(`City name mast be ${this.$v.cityTo.$params.minLength.min} symbols minimum, now ${this.cityTo.length}`)+" ")]):t._e()]),e("div",{staticClass:"mb-4 position-relative"},[e("label",{staticClass:"form-label",attrs:{for:"city-from"}},[t._v("Delivery from*")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cityFrom,expression:"cityFrom"}],class:"form-control "+(t.$v.cityFrom.$dirty&&!t.$v.cityFrom.required||t.$v.cityFrom.$dirty&&!t.$v.cityFrom.minLength?"is-invalid":""),attrs:{type:"text",id:"city-from","aria-describedby":"city name",placeholder:"Enter your current city name."},domProps:{value:t.cityFrom},on:{input:function(e){e.target.composing||(t.cityFrom=e.target.value)}}}),t.$v.cityFrom.$dirty&&!t.$v.cityFrom.required?e("small",{staticClass:"invalid-feedback position-absolute"},[t._v("Enter your current city name.")]):t._e(),t.$v.cityFrom.$dirty&&!t.$v.cityFrom.minLength?e("small",{staticClass:"invalid-feedback position-absolute"},[t._v(" "+t._s(`City name mast be ${this.$v.cityFrom.$params.minLength.min} symbols minimum, now ${this.cityFrom.length}`)+" ")]):t._e()]),e("div",{staticClass:"mb-4 position-relative"},[e("label",{staticClass:"form-label",attrs:{for:"type"}},[t._v("Type of parcel*")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.parcelType,expression:"parcelType"}],class:"form-select "+(t.$v.parcelType.$dirty&&!t.$v.parcelType.required?"is-invalid":""),attrs:{id:"type","aria-label":"select type of parcel"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.parcelType=e.target.multiple?s:s[0]}}},[e("option",{attrs:{disabled:"",selected:""}},[t._v(" a type of parcel")]),e("option",{attrs:{value:"gadgets"}},[t._v("Gadgets")]),e("option",{attrs:{value:"drinks"}},[t._v("Drinks")]),e("option",{attrs:{value:"clothes"}},[t._v("Clothes")]),e("option",{attrs:{value:"medicines"}},[t._v("Medicines")]),e("option",{attrs:{value:"other"}},[t._v("Other")])]),t.$v.parcelType.$dirty&&!t.$v.parcelType.required?e("small",{staticClass:"invalid-feedback position-absolute"},[t._v("Please select the type of parcel")]):t._e()]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"dispath"}},[t._v("Date of dispatch")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dispatchTill,expression:"dispatchTill"}],staticClass:"form-control",attrs:{type:"datetime-local",name:"dispatch-to",id:"dispath"},domProps:{value:t.dispatchTill},on:{input:function(e){e.target.composing||(t.dispatchTill=e.target.value)}}})]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"parcel-des"}},[t._v("Description from parcel")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.parcelDes,expression:"parcelDes"}],staticClass:"form-control",attrs:{id:"parcel-des",rows:"3"},domProps:{value:t.parcelDes},on:{input:function(e){e.target.composing||(t.parcelDes=e.target.value)}}}),e("div",{staticClass:"form-text"},[t._v("Enter description for this parcel.")])]),e("div",{staticClass:"d-flex justify-content-around"},[t.requestData.id?e("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-type":"save"},on:{click:t.handeSubmit}},[t._v("Save")]):e("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-type":"create"},on:{click:t.handeSubmit}},[t._v("Create")]),e("button",{staticClass:"btn btn-primary mx-1",attrs:{"data-type":"cancel"},on:{click:t.handeSubmit}},[t._v("Cancel")])])])},l=[],c=s(5795);const u=t=>{const e=new Date(t),s=e.getFullYear(),r=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate(),a=e.getHours(),o=e.getMinutes();return`${s}-${r}-${i}T${a}:${o}`};var d={props:["requestData"],data(){return{cityTo:"",cityFrom:"",parcelDes:"",dispatchTill:null,parcelType:""}},validations:{cityTo:{required:c.C1,minLength:(0,c.Ei)(4)},cityFrom:{required:c.C1,minLength:(0,c.Ei)(4)},parcelType:{required:c.C1}},methods:{handeSubmit(t){switch(t.preventDefault(),t.target.dataset.type){case"cancel":this.closeForm();break;case"save":this.saveRequest();break;case"create":this.createNew();break;default:break}},async createNew(){if(this.$v.$invalid)this.$v.$touch();else try{const t={id:`${Date.now()}`,cityTo:this.cityTo,cityFrom:this.cityFrom,parcelDes:this.parcelDes,dispatchTill:new Date(this.dispatchTill),parcelType:this.parcelType,createOn:new Date};this.$emit("onCreate",t),this.$emit("onClose")}catch(t){throw console.log(t),t}},saveRequest(){if(this.$v.$invalid)this.$v.$touch();else try{const t={id:this.requestData.id,createOn:this.requestData.createOn,cityTo:this.cityTo,cityFrom:this.cityFrom,parcelDes:this.parcelDes,parcelType:this.parcelType,dispatchTill:new Date(this.dispatchTill)};this.$emit("onSave",t)}catch(t){throw console.log(t),t}},closeForm(){this.$emit("onClose")}},mounted(){Object.keys(this.requestData).length>0&&(this.cityTo=this.requestData.cityTo,this.cityFrom=this.requestData.cityFrom,this.parcelDes=this.requestData.parcelDes,this.parcelType=this.requestData.parcelType,this.dispatchTill=u(this.requestData.dispatchTill))}},m=d,p=s(1001),v=(0,p.Z)(m,n,l,!1,null,null,null),h=v.exports,y=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.requests,(function(s,r){return e("tr",{key:s.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(r+1))]),e("td",[t._v(t._s(t.date(s.createOn)))]),e("td",[t._v(t._s(s.cityTo))]),e("td",[t._v(t._s(s.cityFrom))]),e("td",[t._v(t._s(s.parcelType))]),e("td",[e("span",{staticClass:"material-symbols-outlined",attrs:{role:"button"},on:{click:function(e){return t.editRequest(s.id)}}},[t._v("edit")]),e("span",{staticClass:"material-symbols-outlined ms-3",attrs:{role:"button"},on:{click:function(e){return t.deleteRequest(s.id)}}},[t._v("delete")])])])})),0)])},f=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#ID")]),e("th",{attrs:{scope:"col"}},[t._v("Created on")]),e("th",{attrs:{scope:"col"}},[t._v("City to")]),e("th",{attrs:{scope:"col"}},[t._v("City from")]),e("th",{attrs:{scope:"col"}},[t._v("Type of parcel")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}];const b=t=>{const e=new Date(t),s=e.getFullYear(),r=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate();return`${s}-${r}-${i}`};var q={props:["requests"],methods:{editRequest(t){this.$emit("onEdit",t)},deleteRequest(t){this.$emit("onDelete",t)},date(t){return b(t)}}},_=q,C=(0,p.Z)(_,y,f,!1,null,null,null),$=C.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal_wrapper",on:{click:t.closeModal}},[e("div",{staticClass:"modal_body"},[t._t("body")],2)])},T=[],D={props:["active"],methods:{closeModal(t){"modal_wrapper"===t.target.className&&this.$emit("closeModal")}}},w=D,F=(0,p.Z)(w,g,T,!1,null,null,null),k=F.exports,x={name:"ListView",data(){return{currentRequest:{},formOpen:!1,requestsData:[],confirmDelModal:!1,idForDelete:null}},methods:{createNewRequest(){this.formOpen=!this.formOpen},requestStartEdit(t){const e=this.requestsList.filter((e=>e.id===t));this.currentRequest={...e[0]},this.formOpen=!0},requestDelete(t){this.idForDelete=t,this.confirmDelModal=!0},confirmDelete(){const t=this.requestsList.filter((t=>t.id!==this.idForDelete));this.requestsUpdate(t),this.confirmDelModal=!1},requestCreate(t){const e=this.requestsList.push(t);this.requestsUpdate(e),this.formClose()},requestSave(t){const e=this.requestsList.findIndex((e=>e.id===t.id)),s=this.requestsList;s[e]=t,this.requestsUpdate(s),this.formClose()},formClose(){this.formOpen=!1,this.currentRequest={}},updateTable(){this.requestsData=[...this.requestsList]},...(0,o.nv)(["requestsGetFromLocal","requestsUpdate","requestCreate"])},computed:{...(0,o.Se)(["requestsList"])},beforeUpdate(){this.updateTable()},async mounted(){this.requestsGetFromLocal(),this.requestsData=this.requestsList},components:{FormComponent:h,TableComponent:$,ModalComponent:k}},O=x,M=(0,p.Z)(O,i,a,!1,null,null,null),L=M.exports;const R={requests:[]},S={requestsList:t=>t.requests},N=t=>!!localStorage.getItem(`${t}`),P=t=>{if(localStorage.getItem(`${t}`)){const e=localStorage.getItem(`${t}`);return JSON.parse(e)}},E=(t,e)=>{localStorage.setItem(`${t}`,JSON.stringify(e))},Z={requestCreate:({commit:t,state:e},s)=>{t("addNewRequest",s),E("requests",e.requests)},requestsUpdate:({commit:t},e)=>{E("requests",e),t("setRequests",e)},requestsGetFromLocal:({commit:t})=>{if(N("requests")){const e=P("requests");t("setRequests",e)}}},j={setRequests(t,e){t.requests=e},addNewRequest(t,e){t.requests=[...t.requests,e]},cleareRequests(t){t.requests=[]}};var I={state:R,getters:S,actions:Z,mutations:j};r.ZP.use(o.ZP);var U=new o.ZP.Store({modules:{requests:I}}),G=s(4951);r.ZP.config.productionTip=!1,r.ZP.use(G.ZP),new r.ZP({store:U,render:t=>t(L)}).$mount("#requests")}},e={};function s(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,r,i,a){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],a=t[u][2];for(var n=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(n=!1,a<o&&(o=a));if(n){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var u=l(s)}for(e&&e(r);c<o.length;c++)a=o[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},r=self["webpackChunkgotoinc_task"]=self["webpackChunkgotoinc_task"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(651)}));r=s.O(r)})();
//# sourceMappingURL=app.a47dac2c.js.map